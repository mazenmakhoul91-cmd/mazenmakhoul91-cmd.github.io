<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ø³Ù†ÙˆÙŠØ© Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ø²ÙŠØ§Ø¯Ø§Øª</title>
    <!-- ØªØ¶Ù…ÙŠÙ† Ø®Ø· Google Fonts: Cairo Ù„Ø®Ø· Ø¹Ø±Ø¨ÙŠ Ø¬Ù…ÙŠÙ„ -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* ØªØ¹Ø±ÙŠÙ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø£Ù„ÙˆØ§Ù† */
        :root {
            --primary-color: #4CAF50; /* Ø£Ø®Ø¶Ø± */
            --secondary-color: #388E3C; /* Ø£Ø®Ø¶Ø± Ø¯Ø§ÙƒÙ† */
            --background-color: #f0f8f0; /* Ø£Ø®Ø¶Ø± ÙØ§ØªØ­ Ø¬Ø¯Ø§Ù‹ */
            --text-color: #333;
            --light-text-color: #f9f9f9;
            --card-background: #ffffff;
            --border-color: #ddd;
            --button-hover-color: #2e7d32;
            --input-border-color: #ccc;
            --focus-border-color: #8BC34A;
            --table-header-bg: #e6ffe6; /* Ø®Ù„ÙÙŠØ© Ø¬Ø¯ÙˆÙ„ ÙØ§ØªØ­Ø© */
            --table-row-hover: #f0fff0; /* Ø®Ù„ÙÙŠØ© Ø§Ù„ØµÙ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­ÙˆÙŠÙ… */
            --ai-feature-bg: #f9f9e6; /* Ø®Ù„ÙÙŠØ© Ù‚Ø³Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ */
            --ai-feature-border: #CCCC66; /* Ø­Ø¯ÙˆØ¯ Ù‚Ø³Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ */
            --remove-btn-color: #dc3545; /* Ø£Ø­Ù…Ø± Ù„Ø²Ø± Ø§Ù„Ø­Ø°Ù */
            --remove-btn-hover-color: #c82333;
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø¹Ø§Ù… Ù„Ù„ØµÙØ­Ø© */
        body {
            font-family: 'Cairo', sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
        }

        .container {
            width: 90%;
            max-width: 900px;
            margin: 40px auto;
            padding: 25px;
            background-color: var(--card-background);
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            text-align: right; /* Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ù†Øµ Ù„Ù„ÙŠÙ…ÙŠÙ† */
            border: 1px solid var(--border-color);
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø±Ø£Ø³ (Header) */
        header {
            background-color: var(--primary-color);
            color: var(--light-text-color);
            padding: 25px 0;
            border-radius: 10px 10px 0 0;
            margin: -25px -25px 20px -25px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 700;
            letter-spacing: 1px;
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ù„ØªÙƒÙˆÙ† ÙÙŠ Ø§Ù„Ù…Ù†ØªØµÙ */
        .input-options {
            display: flex;
            flex-direction: column; /* ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¹Ù…ÙˆØ¯ÙŠØ§Ù‹ */
            align-items: center; /* ØªÙˆØ³ÙŠØ· Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø£ÙÙ‚ÙŠØ§Ù‹ */
            padding-bottom: 20px;
        }

        .input-group {
            margin-bottom: 20px;
            display: flex;
            flex-direction: column;
            align-items: center; /* ØªÙˆØ³ÙŠØ· Ø¹Ù†Ø§ØµØ± Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ù†ÙØ³Ù‡Ø§ */
            width: 100%; /* Ø§Ø¬Ø¹Ù„ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ ØªØ£Ø®Ø° Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù„Ø­Ø§ÙˆÙŠØ© */
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-size: 1.1em;
            color: #555;
            font-weight: 600;
            text-align: right; /* Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ù†Øµ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ù„Ù„ÙŠÙ…ÙŠÙ† */
            width: 100%; /* Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ù†Øµ ÙŠØªØ¨Ø¹ Ø§Ù„ØªÙˆØ³ÙŠØ· Ù…Ø¹ Ø§Ù„Ø­Ù‚Ù„ */
            max-width: 300px; /* Ù†ÙØ³ Ø¹Ø±Ø¶ Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ */
        }

        .input-group input[type="number"] {
            width: 100%;
            max-width: 300px; /* ØªØ­Ø¯ÙŠØ¯ Ø¹Ø±Ø¶ Ù…Ø¹Ù‚ÙˆÙ„ Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ */
            padding: 12px;
            border: 1px solid var(--input-border-color);
            border-radius: 8px;
            font-family: 'Cairo', sans-serif;
            font-size: 1.05em;
            color: var(--text-color);
            text-align: right; /* Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ù†Øµ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ù„Ù„ÙŠÙ…ÙŠÙ† */
            box-sizing: border-box; /* ØªØ¶Ù…ÙŠÙ† Ø§Ù„Ø­Ø´ÙˆØ© ÙˆØ§Ù„Ø­Ø¯ÙˆØ¯ ÙÙŠ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„ÙŠ */
        }

        .input-group input[type="number"]:focus {
            outline: none;
            border-color: var(--focus-border-color);
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.2);
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        .button {
            display: inline-block;
            background-color: var(--secondary-color);
            color: var(--light-text-color);
            padding: 12px 25px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 700;
            transition: background-color 0.3s ease, transform 0.2s ease;
            font-size: 1.05em;
            border: none;
            cursor: pointer;
            margin-top: 15px;
            margin-left: 10px; /* Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        }

        .button:hover {
            background-color: var(--button-hover-color);
            transform: translateY(-2px);
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ */
        #results-section {
            margin-top: 30px;
            padding-top: 25px;
            border-top: 1px dashed var(--border-color);
            display: none;
        }

        #results-section h2 {
            color: var(--primary-color);
            font-size: 1.8em;
            margin-bottom: 20px;
            text-align: center;
        }

        #total-salary-display {
            background-color: var(--table-header-bg);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 25px;
            font-size: 1.3em;
            font-weight: 700;
            color: var(--secondary-color);
            text-align: center;
            border: 1px solid var(--primary-color);
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¬Ø¯ÙˆÙ„ */
        .salary-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 0.95em;
        }

        .salary-table th, .salary-table td {
            border: 1px solid var(--border-color);
            padding: 12px;
            text-align: right;
        }

        .salary-table th {
            background-color: var(--table-header-bg);
            color: var(--secondary-color);
            font-weight: 700;
        }

        .salary-table tbody tr:nth-child(even) {
            background-color: var(--background-color);
        }

        .salary-table tbody tr:hover {
            background-color: var(--table-row-hover);
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø®Ø·Ø£ */
        #error-message {
            color: #d32f2f;
            background-color: #ffebee;
            border: 1px solid #ef9a9a;
            padding: 10px;
            border-radius: 8px;
            margin-top: 15px;
            text-align: center;
            display: none;
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ù‚Ø³Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯ */
        .ai-analysis-section {
            margin-top: 40px;
            padding: 25px;
            border: 1px solid var(--ai-feature-border);
            border-radius: 12px;
            background-color: var(--ai-feature-bg);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            text-align: right;
            display: none;
        }

        .ai-analysis-section h2 {
            color: var(--secondary-color);
            font-size: 1.8em;
            margin-bottom: 20px;
            text-align: center;
        }

        #ai-output {
            background-color: var(--card-background);
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            min-height: 80px;
            text-align: right;
            border: 1px solid var(--border-color);
            color: #444;
            font-size: 1.05em;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        #ai-loading-indicator {
            display: none;
            margin-top: 15px;
            color: var(--secondary-color);
            font-weight: 700;
            font-size: 1.1em;
            text-align: center;
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø²ÙŠØ§Ø¯Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø© */
        .additional-increases-container {
            width: 100%;
            max-width: 400px; /* Ù„ØªÙ‚ÙŠÙŠØ¯ Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø§ÙˆÙŠØ© */
            margin: 20px auto; /* ØªÙˆØ³ÙŠØ· Ø§Ù„Ø­Ø§ÙˆÙŠØ© */
            border: 1px dashed var(--border-color);
            border-radius: 8px;
            padding: 15px;
            background-color: var(--background-color);
            text-align: center; /* ØªÙˆØ³ÙŠØ· Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø­Ø§ÙˆÙŠØ© */
        }

        .additional-increases-container h3 {
            color: var(--secondary-color);
            margin-top: 0;
            font-size: 1.2em;
            text-align: center;
            margin-bottom: 15px;
        }

        .additional-increase-item {
            display: flex;
            flex-wrap: wrap; /* Ù„Ù„Ø³Ù…Ø§Ø­ Ù„Ù„Ø¹Ù†Ø§ØµØ± Ø¨Ø§Ù„Ù†Ø²ÙˆÙ„ Ù„Ø³Ø·Ø± Ø¬Ø¯ÙŠØ¯ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
            justify-content: center; /* ØªÙˆØ³ÙŠØ· Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¹Ù†ØµØ± */
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            padding: 10px;
            border: 1px solid #eee;
            border-radius: 6px;
            background-color: var(--card-background);
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .additional-increase-item input {
            width: calc(50% - 15px); /* ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ø¹Ø±Ø¶ Ø¨ÙŠÙ† Ø­Ù‚Ù„ÙŠÙ† Ù…Ø¹ Ù…Ø±Ø§Ø¹Ø§Ø© Ø§Ù„ÙØ¬ÙˆØ© */
            max-width: 120px; /* Ù„Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… ØªÙ…Ø¯Ø¯ ÙƒØ¨ÙŠØ± */
            padding: 8px;
            border: 1px solid var(--input-border-color);
            border-radius: 6px;
            font-family: 'Cairo', sans-serif;
            font-size: 0.95em;
            text-align: right;
            box-sizing: border-box;
        }
        
        /* Ø¶Ø¨Ø· Ø¹Ø±Ø¶ Ù…Ø¯Ø®Ù„ Ø§Ù„Ø³Ù†Ø© Ùˆ Ø§Ù„Ù†Ø³Ø¨Ø© Ù„ÙŠÙƒÙˆÙ†ÙˆØ§ Ø¨Ø¬Ø§Ù†Ø¨ Ø¨Ø¹Ø¶Ù‡Ù… Ùˆ Ù…ØªØ¬Ø§ÙˆØ¨ÙŠÙ† */
        .additional-increase-item input[type="number"]:first-of-type { /* Ø§Ù„Ø³Ù†Ø© */
            flex-grow: 1; /* Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ØªÙ…Ø¯Ø¯ */
        }
        .additional-increase-item input[type="number"]:last-of-type { /* Ø§Ù„Ù†Ø³Ø¨Ø© */
            flex-grow: 1; /* Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ØªÙ…Ø¯Ø¯ */
        }


        .remove-increase-btn {
            background-color: var(--remove-btn-color);
            color: var(--light-text-color);
            padding: 8px 12px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s ease;
            font-size: 0.9em;
            font-weight: 600;
        }

        .remove-increase-btn:hover {
            background-color: var(--remove-btn-hover-color);
        }

        #add-new-increase-btn {
            background-color: var(--primary-color);
            margin-top: 10px;
            padding: 10px 20px;
            font-size: 1em;
            width: auto;
        }

        #add-new-increase-btn:hover {
            background-color: var(--secondary-color);
        }

        /* Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„ØªØµÙ…ÙŠÙ… Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
        @media (max-width: 768px) {
            header h1 {
                font-size: 2em;
            }

            .container {
                margin: 20px auto;
                padding: 15px;
            }

            .input-group input[type="number"] {
                max-width: 100%;
            }

            .additional-increases-container {
                max-width: 100%;
                padding: 10px;
            }

            .additional-increase-item {
                flex-direction: column; /* ØªÙƒØ¯ÙŠØ³ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¹Ù…ÙˆØ¯ÙŠØ§Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
                gap: 5px;
            }
            .additional-increase-item input {
                width: 100%; /* ØªØ£Ø®Ø° Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙƒØ§Ù…Ù„ */
                max-width: none;
            }

            .salary-table {
                font-size: 0.85em;
            }

            .salary-table th, .salary-table td {
                padding: 8px;
            }
        }

        /* ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø®Ø§ØµØ© Ø¨Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© */
        @media print {
            body {
                background-color: #fff; /* Ø®Ù„ÙÙŠØ© Ø¨ÙŠØ¶Ø§Ø¡ Ù„Ù„Ø·Ø¨Ø§Ø¹Ø© */
                margin: 0;
                padding: 0;
                display: block; /* Ø¥Ù„ØºØ§Ø¡ flexbox Ù„Ù„Ø¬Ø³Ù… Ù„ØªØ±ØªÙŠØ¨ Ø·Ø¨ÙŠØ¹ÙŠ */
            }
            .container {
                width: 100%;
                max-width: none; /* Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ù…Ù„Ø¡ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…ØªØ§Ø­ */
                margin: 0;
                padding: 0;
                box-shadow: none; /* Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¸Ù„Ø§Ù„ */
                border: none; /* Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø­Ø¯ÙˆØ¯ */
                border-radius: 0;
            }
            header,
            p, /* Ø§Ù„ÙÙ‚Ø±Ø§Øª Ø§Ù„ØªÙ…Ù‡ÙŠØ¯ÙŠØ© */
            .input-options, /* Ù‚Ø³Ù… Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª */
            .button, /* Ø²Ø± Ø§Ù„Ø­Ø³Ø§Ø¨ */
            #error-message, /* Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£ */
            #ai-loading-indicator, /* Ù…Ø¤Ø´Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ */
            #add-new-increase-btn, /* Ø²Ø± Ø¥Ø¶Ø§ÙØ© Ø²ÙŠØ§Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø© */
            .remove-increase-btn /* Ø²Ø± Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø²ÙŠØ§Ø¯Ø© */
             {
                display: none !important; /* Ø¥Ø®ÙØ§Ø¡ Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¹Ù†Ø¯ Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© */
            }
            #results-section,
            .ai-analysis-section {
                display: block !important; /* Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¸Ù‡ÙˆØ± Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„ */
                margin-top: 20px;
                padding-top: 0;
                border-top: none;
                box-shadow: none;
                border: none;
                background-color: #fff;
            }
            .salary-table {
                width: 100%;
                font-size: 0.9em; /* Ø¶Ø¨Ø· Ø­Ø¬Ù… Ø§Ù„Ø®Ø· Ù„Ù„Ø¬Ø¯ÙˆÙ„ ÙÙŠ Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© */
            }
            .salary-table th, .salary-table td {
                padding: 8px;
                border: 1px solid #000; /* Ø­Ø¯ÙˆØ¯ Ø¯Ø§ÙƒÙ†Ø© Ù„Ù„Ø·Ø¨Ø§Ø¹Ø© */
            }
            #total-salary-display {
                background-color: #f0f0f0; /* Ø®Ù„ÙÙŠØ© ÙØ§ØªØ­Ø© ØºÙŠØ± Ù…Ø²Ø¹Ø¬Ø© */
                color: #000;
                border: 1px solid #ccc;
                font-size: 1.1em;
            }
            #ai-output {
                background-color: #f0f0f0;
                color: #000;
                border: 1px solid #ccc;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ø³Ù†ÙˆÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© ğŸ’°</h1>
        </header>

        <p>
            Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯Ø§Ø© ØªØ³Ø§Ø¹Ø¯Ùƒ Ø¹Ù„Ù‰ ØªÙ‚Ø¯ÙŠØ± Ù†Ù…Ùˆ Ø±Ø§ØªØ¨Ùƒ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ø¹Ù„Ù‰ Ù…Ø¯Ø§Ø± Ø³Ù†ÙˆØ§Øª Ù…Ø­Ø¯Ø¯Ø©ØŒ Ù…Ø¹ Ø§Ù„Ø£Ø®Ø° ÙÙŠ Ø§Ù„Ø§Ø¹ØªØ¨Ø§Ø± Ù†Ø³Ø¨Ø© Ø²ÙŠØ§Ø¯Ø© Ø³Ù†ÙˆÙŠØ© Ø«Ø§Ø¨ØªØ© ÙˆØ²ÙŠØ§Ø¯Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ø¯ÙˆØ±ÙŠØ© Ø£Ùˆ Ù„Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙŠ Ø³Ù†ÙˆØ§Øª Ù…Ø­Ø¯Ø¯Ø©.
            Ø£Ø¯Ø®Ù„ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªÙˆÙ‚Ø¹Ø§Øª Ø§Ù„Ù…ÙØµÙ„Ø©.
        </p>

        <div class="input-options">
            <div class="input-group">
                <label for="basic-salary">Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ (Ø¯ÙŠÙ†Ø§Ø± Ø£Ø±Ø¯Ù†ÙŠ):</label>
                <input type="number" id="basic-salary" value="500" min="0">
            </div>

            <div class="input-group">
                <label for="annual-increase">Ù†Ø³Ø¨Ø© Ø§Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø³Ù†ÙˆÙŠØ© Ø§Ù„Ø¹Ø§Ø¯ÙŠØ© (Ùª):</label>
                <input type="number" id="annual-increase" value="5" min="0" step="0.1">
            </div>

            <div class="input-group">
                <label for="number-of-years">Ø¹Ø¯Ø¯ Ø³Ù†ÙˆØ§Øª Ø§Ù„Ø­Ø³Ø§Ø¨:</label>
                <input type="number" id="number-of-years" value="30" min="1" max="100">
            </div>

            <div class="input-group">
                <label for="start-year">Ø³Ù†Ø© Ø§Ù„Ø¨Ø¯Ø¡ (Ù…Ø«Ø§Ù„: 2026):</label>
                <input type="number" id="start-year" value="2026" min="1900" max="2100">
            </div>

            <div class="additional-increases-container">
                <h3>Ø§Ù„Ø²ÙŠØ§Ø¯Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© Ø§Ù„Ù…Ø®ØµØµØ©</h3>
                <p>Ø£Ø¯Ø®Ù„ Ø§Ù„Ø³Ù†Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ© (Ù…Ø«Ø§Ù„: 2030) ÙˆÙ†Ø³Ø¨Ø© Ø§Ù„Ø²ÙŠØ§Ø¯Ø© Ù„ØªØ·Ø¨ÙŠÙ‚ Ø²ÙŠØ§Ø¯Ø© Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©.</p>
                <div id="dynamic-additional-increases">
                    <!-- Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø²ÙŠØ§Ø¯Ø© Ù‡Ù†Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
                </div>
                <button id="add-new-increase-btn" class="button" style="margin-left: 0;">+ Ø¥Ø¶Ø§ÙØ© Ø²ÙŠØ§Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
            </div>
        </div>

        <button id="calculate-btn" class="button">Ø§Ø­Ø³Ø¨ Ø§Ù„Ø±Ø§ØªØ¨ ğŸ“ˆ</button>
        <button id="print-btn" class="button">Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ğŸ–¨ï¸</button> <!-- Ø²Ø± Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯ -->

        <div id="error-message"></div>

        <div id="results-section">
            <h2>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ø³Ù†ÙˆÙŠØ©</h2>
            <div id="total-salary-display"></div>
            <table class="salary-table">
                <thead>
                    <tr>
                        <th>Ø§Ù„Ø¹Ø§Ù…</th>
                        <th>Ø§Ù„Ø±Ø§ØªØ¨ ÙÙŠ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø¹Ø§Ù…</th>
                        <th>Ù…Ø¨Ù„Øº Ø§Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø³Ù†ÙˆÙŠØ©</th>
                        <th>Ø§Ù„Ø±Ø§ØªØ¨ ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¹Ø§Ù…</th>
                    </tr>
                </thead>
                <tbody id="salary-table-body">
                    <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‡Ù†Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
                </tbody>
            </table>

            <!-- Ù‚Ø³Ù… ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯ -->
            <div class="ai-analysis-section" id="ai-analysis-section">
                <h2>âœ¨ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø±Ø§ØªØ¨ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ âœ¨</h2>
                <p>Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù…Ù„Ø§Ø­Ø¸Ø§Øª ÙˆÙ†ØµØ§Ø¦Ø­ Ù…Ø§Ù„ÙŠØ© Ù…ÙˆØ¬Ø²Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…Ø³Ø§Ø± Ø±Ø§ØªØ¨Ùƒ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹.</p>
                <button id="analyze-salary-btn" class="button">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø±Ø§ØªØ¨ ğŸ’¡</button>
                <div id="ai-loading-indicator">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„...</div>
                <div id="ai-output"></div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const basicSalaryInput = document.getElementById('basic-salary');
            const annualIncreaseInput = document.getElementById('annual-increase');
            const numberOfYearsInput = document.getElementById('number-of-years');
            const startYearInput = document.getElementById('start-year');
            
            const dynamicAdditionalIncreasesDiv = document.getElementById('dynamic-additional-increases');
            const addNewIncreaseButton = document.getElementById('add-new-increase-btn');

            const calculateButton = document.getElementById('calculate-btn');
            const printButton = document.getElementById('print-btn'); // Ø¹Ù†ØµØ± Ø²Ø± Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯
            const resultsSection = document.getElementById('results-section');
            const totalSalaryDisplay = document.getElementById('total-salary-display');
            const salaryTableBody = document.getElementById('salary-table-body');
            const errorMessage = document.getElementById('error-message');
            
            const aiAnalysisSection = document.getElementById('ai-analysis-section');
            const analyzeSalaryButton = document.getElementById('analyze-salary-btn');
            const aiLoadingIndicator = document.getElementById('ai-loading-indicator');
            const aiOutput = document.getElementById('ai-output');

            let finalSalaryAfterCalculationYears = 0;
            let totalAccumulatedSalaryValue = 0;
            let currentNumberOfYears = 0;
            let currentStartYear = 0;
            let additionalIncreasesData = []; // Ù„ØªØ®Ø²ÙŠÙ† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø²ÙŠØ§Ø¯Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© Ø§Ù„Ù…Ø®ØµØµØ©

            // Ø¯Ø§Ù„Ø© Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ÙƒØ¹Ù…Ù„Ø© (Ø¯ÙŠÙ†Ø§Ø± Ø£Ø±Ø¯Ù†ÙŠ)
            function formatCurrency(amount) {
                return new Intl.NumberFormat('ar-JO', {
                    style: 'currency',
                    currency: 'JOD',
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                }).format(amount);
            }

            // Exponential backoff retry logic for API calls
            async function fetchWithExponentialBackoff(url, options, retries = 5, delay = 1000) {
                for (let i = 0; i < retries; i++) {
                    try {
                        const response = await fetch(url, options);
                        if (response.ok) {
                            return response;
                        }
                        if (response.status >= 500 || response.status === 429) {
                            await new Promise(resolve => setTimeout(resolve, delay * Math.pow(2, i)));
                            continue;
                        }
                        throw new Error(`HTTP error! status: ${response.status}`);
                    } catch (error) {
                        if (i === retries - 1) throw error;
                        await new Promise(resolve => setTimeout(resolve, delay * Math.pow(2, i)));
                    }
                }
            }

            // Ø¯Ø§Ù„Ø© Ù„Ø¥Ø¶Ø§ÙØ© Ø­Ù‚Ù„ Ø²ÙŠØ§Ø¯Ø© Ø¥Ø¶Ø§ÙÙŠØ© Ø¬Ø¯ÙŠØ¯
            function addIncreaseEntry() {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'additional-increase-item';

                const yearInput = document.createElement('input');
                yearInput.type = 'number';
                yearInput.className = 'increase-year';
                yearInput.placeholder = 'Ø§Ù„Ø³Ù†Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ© (Ù…Ø«Ø§Ù„: 2030)';
                // Ù‚ÙŠÙ…Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù…Ù‚ØªØ±Ø­Ø©: Ø³Ù†Ø© Ø§Ù„Ø¨Ø¯Ø¡ + 5 Ø³Ù†ÙˆØ§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹ Ø£Ùˆ Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© + 5
                const defaultYear = parseInt(startYearInput.value) || new Date().getFullYear();
                yearInput.min = defaultYear.toString(); // ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ù…Ø¯Ø®Ù„Ø© Ø£ÙƒØ¨Ø± Ù…Ù† Ø£Ùˆ ØªØ³Ø§ÙˆÙŠ Ø³Ù†Ø© Ø§Ù„Ø¨Ø¯Ø¡
                yearInput.value = defaultYear + 5; 
                yearInput.required = true;

                const percentInput = document.createElement('input');
                percentInput.type = 'number';
                percentInput.className = 'increase-percent';
                percentInput.placeholder = 'Ø§Ù„Ù†Ø³Ø¨Ø© % (Ù…Ø«Ø§Ù„: 10)';
                percentInput.min = '0';
                percentInput.step = '0.1';
                percentInput.value = '2'; // Ù‚ÙŠÙ…Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù…Ù‚ØªØ±Ø­Ø©
                percentInput.required = true;

                const removeButton = document.createElement('button');
                removeButton.className = 'remove-increase-btn';
                removeButton.textContent = 'X';
                removeButton.addEventListener('click', () => {
                    itemDiv.remove();
                    updateAdditionalIncreasesData(); // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø°Ù
                });

                itemDiv.appendChild(yearInput);
                itemDiv.appendChild(percentInput);
                itemDiv.appendChild(removeButton);
                dynamicAdditionalIncreasesDiv.appendChild(itemDiv);

                updateAdditionalIncreasesData(); // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙˆØ±Ø§Ù‹ Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¶Ø§ÙØ©

                // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹
                yearInput.addEventListener('input', updateAdditionalIncreasesData);
                percentInput.addEventListener('input', updateAdditionalIncreasesData);
            }

            // Ø¯Ø§Ù„Ø© Ù„ØªØ­Ø¯ÙŠØ« Ù…ØµÙÙˆÙØ© Ø§Ù„Ø²ÙŠØ§Ø¯Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            function updateAdditionalIncreasesData() {
                additionalIncreasesData = [];
                const items = dynamicAdditionalIncreasesDiv.querySelectorAll('.additional-increase-item');
                items.forEach(item => {
                    const actualYear = parseInt(item.querySelector('.increase-year').value);
                    const percent = parseFloat(item.querySelector('.increase-percent').value);

                    if (!isNaN(actualYear) && actualYear >= 1 && !isNaN(percent) && percent >= 0) {
                        additionalIncreasesData.push({ actualYear: actualYear, percent: percent }); // ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø³Ù†Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ©
                    }
                });
                // ÙØ±Ø² Ø§Ù„Ø²ÙŠØ§Ø¯Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ø³Ù†Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ© Ù„Ø¶Ù…Ø§Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØµØ­ÙŠØ­
                additionalIncreasesData.sort((a, b) => a.actualYear - b.actualYear);
            }


            addNewIncreaseButton.addEventListener('click', addIncreaseEntry);


            calculateButton.addEventListener('click', () => {
                errorMessage.style.display = 'none';
                aiAnalysisSection.style.display = 'none';
                aiOutput.textContent = '';

                const basicSalary = parseFloat(basicSalaryInput.value);
                const annualIncreaseRate = parseFloat(annualIncreaseInput.value) / 100;
                const numberOfYears = parseInt(numberOfYearsInput.value);
                const startYear = parseInt(startYearInput.value);
                
                updateAdditionalIncreasesData(); // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø²ÙŠØ§Ø¯Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© Ù‚Ø¨Ù„ Ø§Ù„Ø­Ø³Ø§Ø¨

                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
                if (isNaN(basicSalary) || basicSalary < 0 ||
                    isNaN(annualIncreaseRate) || annualIncreaseRate < 0 ||
                    isNaN(numberOfYears) || numberOfYears < 1 || numberOfYears > 100 ||
                    isNaN(startYear) || startYear < 1900 || startYear > 2100) {
                    errorMessage.textContent = 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø£Ø±Ù‚Ø§Ù… ØµØ­ÙŠØ­Ø© ÙˆÙ…ÙˆØ¬Ø¨Ø© ÙÙŠ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©. Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ù†ÙˆØ§Øª Ø¨ÙŠÙ† 1 Ùˆ 100ØŒ ÙˆØ³Ù†Ø© Ø§Ù„Ø¨Ø¯Ø¡ Ø¨ÙŠÙ† 1900 Ùˆ 2100.';
                    errorMessage.style.display = 'block';
                    resultsSection.style.display = 'none';
                    return;
                }

                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ù…Ø¯Ø®Ù„Ø§Øª Ø§Ù„Ø²ÙŠØ§Ø¯Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©
                let validAdditionalIncreases = true;
                additionalIncreasesData.forEach(item => {
                    if (isNaN(item.actualYear) || item.actualYear < startYear || item.actualYear > (startYear + numberOfYears -1) || isNaN(item.percent) || item.percent < 0) {
                        validAdditionalIncreases = false;
                        errorMessage.textContent = 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ø¬Ù…ÙŠØ¹ Ù‚ÙŠÙ… Ø§Ù„Ø²ÙŠØ§Ø¯Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©: Ø§Ù„Ø³Ù†Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø¶Ù…Ù† Ù†Ø·Ø§Ù‚ Ø³Ù†ÙˆØ§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ ÙˆØ§Ù„Ù†Ø³Ø¨Ø© Ù…ÙˆØ¬Ø¨Ø©.';
                        errorMessage.style.display = 'block';
                        resultsSection.style.display = 'none';
                    }
                });
                if (!validAdditionalIncreases) {
                    return;
                }


                salaryTableBody.innerHTML = '';
                let currentSalary = basicSalary;
                let totalAccumulated = 0;
                currentNumberOfYears = numberOfYears;
                currentStartYear = startYear;

                for (let i = 0; i < numberOfYears; i++) {
                    const displayYear = startYear + i; // Ø§Ù„Ø³Ù†Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ© Ù„Ù„Ø¹Ø±Ø¶ (2026ØŒ 2027...)

                    const salaryAtStartOfYear = currentSalary;

                    let annualIncrementAmount = currentSalary * annualIncreaseRate;
                    
                    // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø²ÙŠØ§Ø¯Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© Ø§Ù„Ù…Ø®ØµØµØ© Ù„Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø§Ù… Ø§Ù„ÙØ¹Ù„ÙŠ
                    const applicableAdditionalIncreases = additionalIncreasesData.filter(item => item.actualYear === displayYear);
                    applicableAdditionalIncreases.forEach(item => {
                        annualIncrementAmount += (currentSalary * (item.percent / 100));
                    });

                    const endOfYearSalary = currentSalary + annualIncrementAmount;
                    
                    totalAccumulated += (endOfYearSalary * 12); 

                    const row = salaryTableBody.insertRow();
                    row.insertCell(0).textContent = displayYear;
                    row.insertCell(1).textContent = formatCurrency(salaryAtStartOfYear);
                    row.insertCell(2).textContent = formatCurrency(annualIncrementAmount);
                    row.insertCell(3).textContent = formatCurrency(endOfYearSalary);

                    currentSalary = endOfYearSalary;
                }

                finalSalaryAfterCalculationYears = currentSalary;
                totalAccumulatedSalaryValue = totalAccumulated;

                totalSalaryDisplay.textContent = `Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ Ø®Ù„Ø§Ù„ ${numberOfYears} Ø¹Ø§Ù…Ø§Ù‹ (Ù…Ù† ${startYear} Ø­ØªÙ‰ ${startYear + numberOfYears - 1}): ${formatCurrency(totalAccumulatedSalaryValue)}`;
                resultsSection.style.display = 'block';
                aiAnalysisSection.style.display = 'block';
            });

            // ÙˆØ¸ÙŠÙØ© Ø²Ø± Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©
            printButton.addEventListener('click', () => {
                window.print();
            });


            analyzeSalaryButton.addEventListener('click', async () => {
                if (finalSalaryAfterCalculationYears === 0 && totalAccumulatedSalaryValue === 0) {
                    aiOutput.textContent = 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø§Ù„Ø±Ø§ØªØ¨ Ø£ÙˆÙ„Ø§Ù‹ Ù‚Ø¨Ù„ Ø·Ù„Ø¨ Ø§Ù„ØªØ­Ù„ÙŠÙ„.';
                    return;
                }

                aiLoadingIndicator.style.display = 'block';
                aiOutput.textContent = '';

                try {
                    const basicSalary = parseFloat(basicSalaryInput.value);
                    const annualIncreaseRate = parseFloat(annualIncreaseInput.value);
                    const numYears = currentNumberOfYears;
                    const startYear = currentStartYear;

                    // Ø¨Ù†Ø§Ø¡ ÙˆØµÙ Ø§Ù„Ø²ÙŠØ§Ø¯Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ù…ÙˆØ¬Ù‡
                    let additionalIncreasesDescription = '';
                    if (additionalIncreasesData.length > 0) {
                        const formattedIncreases = additionalIncreasesData.map(item => `ÙÙŠ Ø¹Ø§Ù… ${item.actualYear}: Ø²ÙŠØ§Ø¯Ø© ${item.percent}%`);
                        additionalIncreasesDescription = `ØŒ Ù…Ø¹ Ø²ÙŠØ§Ø¯Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© ÙƒØ§Ù„ØªØ§Ù„ÙŠ: ${formattedIncreases.join(', ')}.`;
                    }


                    const prompt = `Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø±Ø§ØªØ¨ Ø£Ø³Ø§Ø³ÙŠ Ù‚Ø¯Ø±Ù‡ ${basicSalary.toFixed(2)} Ø¯ÙŠÙ†Ø§Ø± Ø£Ø±Ø¯Ù†ÙŠØŒ ÙˆØ²ÙŠØ§Ø¯Ø© Ø³Ù†ÙˆÙŠØ© Ø¹Ø§Ø¯ÙŠØ© Ù‚Ø¯Ø±Ù‡Ø§ ${annualIncreaseRate}%ØŒ ÙˆØ¹Ø¯Ø¯ Ø³Ù†ÙˆØ§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ ${numYears} Ø¹Ø§Ù… Ø¨Ø¯Ø¡Ø§Ù‹ Ù…Ù† Ø³Ù†Ø© ${startYear}${additionalIncreasesDescription}ØŒ ÙˆØ±Ø§ØªØ¨ Ù…ØªÙˆÙ‚Ø¹ Ø¨Ø¹Ø¯ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¯Ø© ÙŠØ¨Ù„Øº ${finalSalaryAfterCalculationYears.toFixed(2)} Ø¯ÙŠÙ†Ø§Ø± Ø£Ø±Ø¯Ù†ÙŠØŒ ÙˆØ¥Ø¬Ù…Ø§Ù„ÙŠ Ø±Ø§ØªØ¨ ØªØ±Ø§ÙƒÙ…ÙŠ Ù‚Ø¯Ø±Ù‡ ${totalAccumulatedSalaryValue.toFixed(2)} Ø¯ÙŠÙ†Ø§Ø± Ø£Ø±Ø¯Ù†ÙŠØ› Ù…Ø§ Ù‡ÙŠ Ø£Ø¨Ø±Ø² Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø£Ùˆ Ø§Ù„Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ø§Ù„Ù…ÙˆØ¬Ø²Ø© Ø§Ù„ØªÙŠ ÙŠÙ…ÙƒÙ†Ùƒ ØªÙ‚Ø¯ÙŠÙ…Ù‡Ø§ Ø­ÙˆÙ„ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ÙˆØ¸ÙŠÙÙŠ Ù…Ø¹ Ø§Ù„Ø£Ø®Ø° ÙÙŠ Ø§Ù„Ø§Ø¹ØªØ¨Ø§Ø± Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¹Ø·ÙŠØ§ØªØŸ Ø£Ø¬Ø¨ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø£Ø³Ù„ÙˆØ¨ ÙˆØ¯ÙˆØ¯ ÙˆÙ…ÙÙŠØ¯ØŒ ÙÙŠ Ø­Ø¯ÙˆØ¯ 70-120 ÙƒÙ„Ù…Ø©ØŒ Ø±ÙƒØ² Ø¹Ù„Ù‰ Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙˆØ§Ù„ØªØ·Ù„Ø¹Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ© ÙˆÙØ±Øµ Ø§Ù„Ù†Ù…Ùˆ Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø©.`;

                    let chatHistory = [];
                    chatHistory.push({ role: "user", parts: [{ text: prompt }] });

                    const payload = { contents: chatHistory };
                    const apiKey = "";
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                    const response = await fetchWithExponentialBackoff(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    const result = await response.json();

                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const generatedText = result.candidates[0].content.parts[0].text;
                        aiOutput.textContent = generatedText;
                    } else {
                        aiOutput.textContent = 'Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„Ù… Ø£ØªÙ…ÙƒÙ† Ù…Ù† ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØªØ­Ù„ÙŠÙ„. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.';
                        console.error('Gemini API response structure unexpected:', result);
                    }
                } catch (error) {
                    console.error('Error calling Gemini API for analysis:', error);
                    aiOutput.textContent = 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„Ùƒ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª ÙˆØ§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.';
                } finally {
                    aiLoadingIndicator.style.display = 'none';
                }
            });

            // Ø¥Ø¶Ø§ÙØ© Ø²ÙŠØ§Ø¯ØªÙŠÙ† Ø§ÙØªØ±Ø§Ø¶ÙŠØªÙŠÙ† Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
            addIncreaseEntry();
            addIncreaseEntry();

            // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ø¨Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
            calculateButton.click();
        });
    </script>
</body>
</html>
